<!DOCTYPE html>
<html lang="fr">
<head>
    <!-- Meta tags précédents -->
    <title>Inscription CSR - Club Sportif Redjaouna</title>
    <!-- Style précédent -->
    <!-- Ajouter ces nouvelles librairies -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@formspree/forms@3.3.0/dist/forms.min.js"></script>
</head>
<body>
    <div class="container">
        <form id="myForm" action="https://formspree.io/f/xyzevzwa" method="POST">
            <!-- Contenu du formulaire précédent -->
            
            <div style="text-align: center;">
                <button type="submit" class="submit-btn">Soumettre l'inscription</button>
                <button type="button" onclick="generatePDF()" class="submit-btn" style="background: #4a5568;">
                    Générer PDF
                </button>
            </div>
        </form>
    </div>

    <script>
        // Configuration Formspree
        const form = document.getElementById('myForm');
        form.addEventListener('submit', async (e) => {
            e.preventDefault();
            const response = await fetch(form.action, {
                method: 'POST',
                body: new FormData(form),
                headers: { 'Accept': 'application/json' }
            });
            if (response.ok) {
                alert('Formulaire soumis avec succès !');
            }
        });

        // Génération PDF
        function generatePDF() {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
            
            doc.setFontSize(18);
            doc.text("CLUB SPORTIF REDJAOUNA (CSR)", 15, 20);
            
            // Récupération des données du formulaire
            const formData = new FormData(document.getElementById('myForm'));
            
            let yPosition = 40;
            for (const [key, value] of formData.entries()) {
                doc.setFontSize(12);
                doc.text(`${key}: ${value}`, 15, yPosition);
                yPosition += 10;
            }

            doc.save('inscription-csr.pdf');
        }
    </script>
</body>
</html>
